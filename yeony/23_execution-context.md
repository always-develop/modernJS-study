# 실행 컨텍스트

- 실행 컨텍스트의 개념을 이해하면 자바스크립트의 전반적인 이론들을 이해할 수 있다.
    - 꼭 완벽 이해해보자..!

## 23.1 소스코드의 타입

- 소스코드에 따라 실행 컨텍스트를 생성하는 과정이 다 다르다.
    - 코드가 평가될 때, 실행 컨텍스트를 생성한다.
1. 전역 코드
    1. 전역 스코프 생성
    2. 전역 변수 관리
2. 함수 코드
    1. 지역 스코프 생성
    2. 지역 변수, 매개변수, 인수 관리
    3. 스코프 체인을 연결해야한다.
3. eval 코드
    1. 자신만의 실행 컨텍스트 생성
    2. 이거 사용하지 말자.
4. 모듈 코드
    1. 독립적인 모듈 스코프 생성

## 24.2 소스코드의 평가와 실행

- 평가 과정에서 실행 컨텍스트를 생성하고, 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록
    - 스코프 : 렉시컬 환경의 환경 레코드
- 평가가 끝나면 런타임이 시작되고, 실행에 필요한 정보들을 실행 컨텍스트가 관리하는 스코프에서 검색하여 취득한다. 값 변경도 실행 컨텍스트에서 관리된다.

## 23.3 실행 컨텍스트의 역할

- 전역 변수의 평가 → 실행 컨텍스트(전역 스코프 등록) → 런타임 시작 → 함수 호출 → 함수 내부 평가 → 실행 컨텍스트(지역 스코프 등록) → 함수 내부 런타임 실행 → 함수 호출 끝 → 이전에 실행하던 곳에서 다시 시작
- 코드가 동작하기 위하여 코드를 평가하는 과정에서 먼저 식별자와 값을 수집하고, 실행 때 필요한 정보들을 스코프 체인을 기반으로 관리하여 내어주거나 수정해주며 실행하다가 평가 후 재실행을 하게 될 시 어디서부터 재시작해야되는지 등을 기억해준다.
    - 프로그램이 실행될 수 있도록 조력자 역할을 톡톡히 한다!

## 23.4 실행 컨텍스트 스택

- `stack` 자료구조로 관리된다.
    - 자바스크립트 배열 프로토타입 메서드의 `push()` , `pop()` 의 개념
- 전역 실행 컨텍스트가 stack의 가장 아래에 깔리고, 함수 호출 순서에 따라 stack이 push되며, 해당 실행컨텍스트에서 더이상 할일이 없을 때, 실행 컨텍스트가 pop되어 stack 에서 사라진다.
- 즉, 최상위 존재하는 실행 컨텍스트는 현재 실행 중인 코드의 실행 컨텍스트이다!