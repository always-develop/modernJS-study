# 21장. 빌트인 객체

# [javascript] ☕ 모던 자바스크립트

---

## 21장. 빌트인 객체

### 21.1 자바스크립트 객체의 분류

- 자바스크립트의 객체는 크게 세 가지로 나뉨
    - 표준 빌트인 객체
        - ECMAScript 에 정의된 객체
        - 표준 빌트인 객체는 전역 객체의 프로퍼티로 제공 되기 때문에 언제나 참조할 수 있음
    - 호스트 객체
        - ECMAScript 외 실행 환경에 따라 정의된 객체들
        - 브라우저의 DOM, Node.js 에서 제공하는 객체들이 해당함
    - 사용자 정의 객체

### 21.2 표준 빌트인 객체

- JSON 도 표준 빌트인 객체라고 한다
- 표준 빌트인 객체의 생성자 함수로 생성한 인스턴스의 프로토타입은 표준 빌트인 객체의 `prototype` 프로퍼티에 바인딩 되어있는 객체이다
    - e.g. String 의 생성자 함수로 생성한 인스턴스의 프로토타입은 `String.prototype` 이다

### 21.3 원시값과 래퍼 객체

- 문자열, 숫자, 불리언 등 원시 값에 대해서 객체처럼 접근하면 생성되는 임시 객체를 래퍼 객체라고 한다
    - String 의 경우, String 의 래퍼 객체는 `[[StringData]]` 라는 내부 슬롯이 존재하여, 원시값 String 의 경우 해당 내부 슬롯에 저장된다
    - 이렇게 생성된 래퍼 객체는 해당 원시값에 해당하는 빌트인 객체의 프로토타입을 상속받는다
        - e.g. String 의 래퍼 객체는 `String.prototype` 을 상속받으며, 래퍼 객체의 내부 슬롯 `[[StringData]]` 에 문자열 원시값을 저장한다
    
    ```jsx
    // String 래퍼 객체는 아마 이런 구조를 갖지 않을까?
    const stringWrapper = {
      stringData: '문자열 원시값',
      __proto__: String.prototype
    }
    ```
    
- 원시값은 객체가 아니기 때문에, 원시값을 객체처럼 사용할 때 래퍼 객체 형태로 사용한다고 할 수 있다
- 래퍼 객체의 사용이 끝난다면 다시 원시값으로 되돌린다고 한다
- Symbol 도 원시값이므로 래퍼 객체를 생성한다
- 다행히 null, undefined 는 래퍼 객체를 생성하지 않는다

### 21.4 전역 객체

- 전역 객체란, 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수한 객체라고 한다
    - `window` `global` `self` 등등
- 전역 객체 키워드는 실행 환경마다 달랐지만 ES11 에서는 `globalThis` 로 통일되었다
- 전역 객체는 계층 구조 상 최상위에 속하는 객체지만, 이는 프로토타입 체인의 최상위라는 말은 아니다
    - 단지, 애플리케이션 전체를 계층화 시켰을 때, 전역 객체가 최상위에 있다는 뜻일 뿐
- var 로 선언한 전역 변수는 전역 객체에 포함되게 되는.. `암묵적 전역` 으로 동작하지만 let, const 로 선언한 전역 변수는 전역 객체에 포함되지 않는다
- 빌트인 전역 프로퍼티란 전역 객체의 프로퍼티를 의미한다
    - `Intinity`, `NaN`, `undefined` 도 여기에 포함된다고 한다
- 빌트인 전역 함수는 전역 객체의 메서드를 의미한다
    - `eval` 이라는 함수도 여기에 포함되는데, 얘는 기존의 스코프를 런타임에서 동적으로 수정한다고 한다;;
        - 자바스크립트 코드를 나타내는 문자열을 받아 실행한다고 한다
        - 사용하지 말아야겠다
    - `Infinity`, `NaN` 여부를 확인할 수 있는 전역 함수도 있다
    - `parseInt` 에 문자열이 아닌 숫자를 인자로 전달하면 내부적으로는 문자열로 변환하여 parse 를 수행한다고 하니, parseInt 를 사용할 때에는 꼭 문자열을 넣도록 해야겠다
        - 진법 변환도 가능하다 🤪
    - URI 를 인코딩하는 전역 함수도 존재한다
        - `encodeURI` 는 한글 등 아스키 문자 셋에 존재하지 않는 URI 를 이스케이프 처리하기 위한 함수인듯 하다
        - `decodeURI` 는 반대로 이스케이프 처리된 URI 를 처리 전으로 돌린다
        - URI 구성 요소를 인코딩하는 …`URIComponent` 함수도 있다
- 식별자를 선언하지 않으면 전역 객체에 할당된다